# ğŸ§  MULTIHOP REASONING EKSEMPLER - Forskellige SpÃ¸rgsmÃ¥lstyper

**Hvordan fungerer multihop reasoning for forskellige juridiske spÃ¸rgsmÃ¥l?**

---

## ğŸ¯ **TYPE 1: KONCEPTUELLE SPÃ˜RGSMÃ…L**

### **SpÃ¸rgsmÃ¥l:** *"Hvad betyder begrÃ¦nset skattepligt i dansk ret?"*

```
ğŸ” HOP 1: SÃ¸ger "begrÃ¦nset skattepligt"
   â†’ Finder grundlÃ¦ggende definition i KSL Â§ 2

ğŸ§  ANALYSE: Har grunddefinition, men mangler:
   - Konkrete kriterier
   - Praktiske eksempler  
   - SammenhÃ¦ng med andre skatteformer

ğŸ” HOP 2: SÃ¸ger "begrÃ¦nset skattepligt kriterier indkomst"
   â†’ Finder specifikke regler om hvilken indkomst

ğŸ” HOP 3: SÃ¸ger "begrÃ¦nset skattepligt vs fuld skattepligt"
   â†’ Finder forskelle og sammenhÃ¦nge

ğŸ¤– SYNTESE: Komplet forklaring af begrebet
   â†’ Definition + kriterier + praktiske eksempler
```

**Hvorfor multihop?** Koncepter krÃ¦ver ofte flere lag af forstÃ¥else - definition â†’ kriterier â†’ sammenhÃ¦ng â†’ eksempler.

---

## ğŸ¯ **TYPE 2: KOMPLEKSE JURIDISKE SAMMENHÃ†NGE**

### **SpÃ¸rgsmÃ¥l:** *"Hvordan pÃ¥virker aktieavancebeskatningsloven andre skattelove?"*

```
ğŸ” HOP 1: SÃ¸ger "aktieavancebeskatningsloven"
   â†’ Finder ABL's grundprincipper

ğŸ§  ANALYSE: Har ABL info, men mangler:
   - Hvordan ABL interagerer med KSL
   - PÃ¥virkning pÃ¥ personskatteregler
   - Specifikke cross-references

ğŸ” HOP 2: SÃ¸ger "aktieavancebeskatningsloven kildeskatteloven"
   â†’ Finder sammenhÃ¦nge mellem ABL og KSL

ğŸ” HOP 3: SÃ¸ger "aktieindkomst skattepligt ligningsloven"
   â†’ Finder yderligere sammenhÃ¦nge med LL

ğŸ¤– SYNTESE: Komplet oversigt over ABL's pÃ¥virkning
   â†’ ABL principper + KSL sammenhÃ¦nge + LL pÃ¥virkning
```

**Hvorfor multihop?** Komplekse juridiske sammenhÃ¦nge krÃ¦ver opbygning af forstÃ¥else pÃ¥ tvÃ¦rs af flere lovgivninger.

---

## ğŸ¯ **TYPE 3: PRAKTISK ANVENDELSE**

### **SpÃ¸rgsmÃ¥l:** *"HvornÃ¥r skal en udlÃ¦nding betale skat i Danmark?"*

```
ğŸ” HOP 1: SÃ¸ger "udlÃ¦nding skat Danmark skattepligt"
   â†’ Finder generelle regler om skattepligt

ğŸ§  ANALYSE: Har generelle regler, men mangler:
   - Specifikke tidsfrister
   - Forskellige scenarier (bosiddende vs ikke-bosiddende)
   - Praktiske procedurer

ğŸ” HOP 2: SÃ¸ger "skattepligt udlÃ¦nding 183 dage regel"
   â†’ Finder specifikke tidsregler

ğŸ” HOP 3: SÃ¸ger "skatteregistrering udlÃ¦nding procedure"
   â†’ Finder praktiske procedurer og frister

ğŸ¤– SYNTESE: Komplet praktisk guide
   â†’ Generelle regler + specifikke kriterier + procedurer
```

**Hvorfor multihop?** Praktiske spÃ¸rgsmÃ¥l krÃ¦ver bÃ¥de juridisk baggrund og konkrete handlingsvejledninger.

---

## ğŸ¯ **TYPE 4: LOVGIVNING PÃ… TVÃ†RS**

### **SpÃ¸rgsmÃ¥l:** *"SammenhÃ¦ngen mellem kildeskat og selskabsbeskatning"*

```
ğŸ” HOP 1: SÃ¸ger "kildeskat selskaber"
   â†’ Finder KSL regler for selskaber

ğŸ§  ANALYSE: Har KSL info, men mangler:
   - Selskabsskattelovens perspektiv
   - Hvordan de to systemer interagerer
   - Potentielle konflikter eller overlap

ğŸ” HOP 2: SÃ¸ger "selskabsskatteloven kildeskat"
   â†’ Finder SSL's perspektiv pÃ¥ kildeskat

ğŸ” HOP 3: SÃ¸ger "dobbeltbeskatning selskab kildeskat"
   â†’ Finder information om overlap og undgÃ¥else af dobbeltbeskatning

ğŸ¤– SYNTESE: Komplet analyse af sammenhÃ¦ngen
   â†’ KSL regler + SSL regler + interaction logic
```

**Hvorfor multihop?** Cross-law spÃ¸rgsmÃ¥l krÃ¦ver forstÃ¥else af hver lov separat og dernÃ¦st deres interaktion.

---

## ğŸ¯ **TYPE 5: HISTORISK/UDVIKLING**

### **SpÃ¸rgsmÃ¥l:** *"Hvordan har reglerne om aktiebeskatning udviklet sig?"*

```
ğŸ” HOP 1: SÃ¸ger "aktiebeskatning historik udvikling"
   â†’ Finder overordnet historisk overblik

ğŸ§  ANALYSE: Har historisk oversigt, men mangler:
   - Specifikke lovÃ¦ndringer og Ã¥rstal
   - Baggrund for Ã¦ndringerne
   - Sammenligning af gammel vs ny praksis

ğŸ” HOP 2: SÃ¸ger "aktieavancebeskatningsloven Ã¦ndringer 1997 2006"
   â†’ Finder specifikke lovÃ¦ndringer

ğŸ” HOP 3: SÃ¸ger "aktiebeskatning fÃ¸r efter Ã¦ndringer praktisk betydning"
   â†’ Finder praktiske konsekvenser af Ã¦ndringerne

ğŸ¤– SYNTESE: Komplet historisk analyse
   â†’ Historisk oversigt + specifikke Ã¦ndringer + praktiske konsekvenser
```

**Hvorfor multihop?** Historiske spÃ¸rgsmÃ¥l krÃ¦ver bÃ¥de kronologisk overblik og detaljeret forstÃ¥else af specifikke Ã¦ndringer.

---

## ğŸ¯ **TYPE 6: UNDTAGELSER OG SPECIALTILFÃ†LDE**

### **SpÃ¸rgsmÃ¥l:** *"HvornÃ¥r gÃ¦lder der undtagelser til normal skattepligt?"*

```
ğŸ” HOP 1: SÃ¸ger "undtagelser skattepligt Danmark"
   â†’ Finder generelle undtagelsesregler

ğŸ§  ANALYSE: Har generelle undtagelser, men mangler:
   - Specifikke undtagelseskategorier
   - Betingelser for hver undtagelse
   - Procedurer for at anvende undtagelser

ğŸ” HOP 2: SÃ¸ger "diplomatisk immunitet skattepligt EU regler"
   â†’ Finder specifikke undtagelseskategorier

ğŸ” HOP 3: SÃ¸ger "ansÃ¸gning skattefritagelse procedure dokumentation"
   â†’ Finder praktiske procedurer for undtagelser

ğŸ¤– SYNTESE: Komplet undtagelsesguide
   â†’ Generelle principper + specifikke kategorier + procedurer
```

**Hvorfor multihop?** Undtagelsesregler er ofte komplekse og krÃ¦ver forstÃ¥else af bÃ¥de hovedreglen og de specifikke undtagelsesbetingelser.

---

## ğŸ§  **MULTIHOP DECISION LOGIC**

### **Hvordan beslutter systemet hvornÃ¥r der skal laves flere hops?**

```python
# I document_analysis_template
{
    "key_findings": ["Det vi fandt"],
    "missing_info": ["Det vi mangler"],        # â† Trigger for nÃ¦ste hop
    "references": ["Andre paragraffer nÃ¦vnt"],  # â† Potentiel nye sÃ¸gninger
    "needs_more_search": true/false,           # â† Hovedbeslutning
    "next_queries": ["NÃ¦ste sÃ¸gning"]          # â† Hvad der skal sÃ¸ges
}
```

### **Kriterier for "needs_more_search":**

1. **Incomplete Information:** SpÃ¸rgsmÃ¥let kun delvist besvaret
2. **Cross-references Found:** Dokumenter henviser til andre love/paragraffer
3. **Complex Concepts:** Juridiske begreber der krÃ¦ver uddybning
4. **Missing Context:** Mangler baggrund for at forstÃ¥ sammenhÃ¦nge
5. **Practical Gaps:** Mangler praktisk anvendelse af juridiske regler

---

## ğŸ¯ **SAMMENLIGNING: SINGLE HOP VS MULTIHOP**

### **Eksempel: "Hvad er skattepligt?"**

**ğŸ”¥ SINGLE HOP (traditionel RAG):**
```
ğŸ” SÃ¸g: "skattepligt"
ğŸ“„ Find: En definition af skattepligt
ğŸ’¬ Svar: "Skattepligt betyder at man skal betale skat..."
```
**Resultat:** Overfladisk svar, mangler nuancer og sammenhÃ¦ng.

**ğŸ§  MULTIHOP RAG:**
```
ğŸ” HOP 1: SÃ¸g "skattepligt definition"
   â†’ Find grundlÃ¦ggende definition

ğŸ§  ANALYSE: Mangler typer af skattepligt og kriterier

ğŸ” HOP 2: SÃ¸g "fuld begrÃ¦nset skattepligt forskel"
   â†’ Find forskellige typer skattepligt

ğŸ§  ANALYSE: Mangler praktiske eksempler

ğŸ” HOP 3: SÃ¸g "skattepligt eksempler udlÃ¦nding bosiddende"
   â†’ Find konkrete eksempler

ğŸ¤– SYNTESE: Komplet svar med definition, typer, kriterier og eksempler
```
**Resultat:** DybdegÃ¥ende, nuanceret svar med praktisk anvendelse.

---

## ğŸ“Š **MULTIHOP PATTERNS FOR FORSKELLIGE SPÃ˜RGSMÃ…LSTYPER**

| SpÃ¸rgsmÃ¥lstype | Typisk Hop Pattern | Eksempel Progression |
|----------------|-------------------|---------------------|
| **Konceptuel** | Definition â†’ Kriterier â†’ Eksempler | "Hvad er X?" â†’ "Hvordan defineres X?" â†’ "Eksempler pÃ¥ X?" |
| **Sammenligning** | A â†’ B â†’ Forskel | "Â§ 2" â†’ "Â§ 7" â†’ "Forskelle" |
| **Praktisk** | Regel â†’ Procedure â†’ Frister | "Regel" â†’ "Hvordan" â†’ "HvornÃ¥r" |
| **Cross-law** | Lov A â†’ Lov B â†’ Interaktion | "KSL" â†’ "SSL" â†’ "SammenhÃ¦ng" |
| **Historisk** | Oversigt â†’ Detaljer â†’ Konsekvenser | "Udvikling" â†’ "Ã†ndringer" â†’ "PÃ¥virkning" |
| **Undtagelser** | Hovedregel â†’ Undtagelser â†’ Betingelser | "Normal regel" â†’ "Undtagelser" â†’ "Kriterier" |

---

## ğŸš€ **KONKLUSION**

**Multihop reasoning er ikke bare til paragraf-sammenligning!** 

Det fungerer for **alle komplekse juridiske spÃ¸rgsmÃ¥l** hvor:

- ğŸ§  **Et enkelt hop ikke giver komplet svar**
- ğŸ”— **SammenhÃ¦nge mellem dokumenter er vigtige**
- ğŸ“Š **Kontekst og baggrund er nÃ¸dvendig**
- ğŸ¯ **Praktisk anvendelse krÃ¦ver flere informationskilder**
- ğŸŒ **Cross-references mellem love skal fÃ¸lges**

**ğŸ¯ Multihop reasoning gÃ¸r dit juridiske AI system intelligentere ved at tÃ¦nke som en rigtig jurist - step by step, med sammenhÃ¦ng og kontekst!** 